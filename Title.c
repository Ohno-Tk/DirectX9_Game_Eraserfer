/*=============================================================================

		�^�C�g��[ title.cpp ]

-------------------------------------------------------------------------------

	���@�쐬��
		2016/12/15
-------------------------------------------------------------------------------
	���@Update
=============================================================================*/
/*-----------------------------------------------------------------------------
	�w�b�_�t�@�C��
-----------------------------------------------------------------------------*/
#include "main.h"
#include "fade.h"
#include "input.h"
#include "sound.h"
#include "title.h"
#include "MeshField.h"
#include "Titlebg.h"

#include "camera.h"

/*-----------------------------------------------------------------------------
	�萔��`
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	��
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	�\����
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	�v���g�^�C�v�錾
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	�O���[�o���ϐ�
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
 �֐���:	void InitTitle( void )
 ����:		�Ȃ�
 �߂�l:	�Ȃ�
 ����:		������
-----------------------------------------------------------------------------*/
void InitTitle( void )
{

	InitCamera();	//	�J�����̏�����

	InitMeshField();		//	���b�V���t�B�[���h�̏�����

	InitTitleBg();		//	�^�C�g���̏�����

	//	���y�Đ�
	PlaySound( SOUND_LABEL_BGM_TITLE );

}	//	end of func

/*-----------------------------------------------------------------------------
 �֐���:	void UninitTitle( void )
 ����:		�Ȃ�
 �߂�l:	�Ȃ�
 ����:		�I��
-----------------------------------------------------------------------------*/
void UninitTitle( void )
{

	UninitMeshField();		//	���b�V���t�B�[���h�̏I��

	UninitTitleBg();		//	�^�C�g���̏I��

}	//	end of func

/*-----------------------------------------------------------------------------
 �֐���:	void UpdateTitle( void )
 ����:		�Ȃ�
 �߂�l:	�Ȃ�
 ����:		�X�V
-----------------------------------------------------------------------------*/
void UpdateTitle( void )
{

	UpdateMeshField();		//	���b�V���t�B�[���h�̍X�V

	UpdateTitleBg();		//	�^�C�g���̍X�V


	//	��ʑJ��
	if( GetKeyboardTrigger( DIK_SPACE ) )
	{

		//	�t�F�[�h�̃Z�b�g
		SetFade( FADE_OUT , MODE_TUTORIAL );

		//	���y�Đ�
		PlaySound( SOUND_LABEL_SE_ENTER );

		//	���Ԗڂ̉����~�߂�
		StopSound( SOUND_LABEL_BGM_TITLE );

	}	//	end of if

}	//	end of func

/*-----------------------------------------------------------------------------
 �֐���:	void DrawTitle( void )
 ����:		�Ȃ�
 �߂�l:	�Ȃ�
 ����:		�`��
-----------------------------------------------------------------------------*/
void DrawTitle( void )
{

	DrawMeshField();		//	���b�V���t�B�[���h�̕`��

	DrawTitleBg();		//	�^�C�g���̕`��

}	//	end of func