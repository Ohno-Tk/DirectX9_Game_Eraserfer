/*=============================================================================

		�^�C�g��[ title.cpp ]

-------------------------------------------------------------------------------

	���@�쐬��
		2016/12/15
-------------------------------------------------------------------------------
	���@Update
=============================================================================*/
/*-----------------------------------------------------------------------------
	�w�b�_�t�@�C��
-----------------------------------------------------------------------------*/
#include "main.h"
#include "result.h"
#include "input.h"
#include "sound.h"
#include "fade.h"
#include "camera.h"
#include "MeshField.h"
#include "skydome.h"
#include "ResultBg.h"
#include "MeshWall.h"
#include "Player.h"
#include "Born.h"

/*-----------------------------------------------------------------------------
	�萔��`
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	��
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	�\����
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	�v���g�^�C�v�錾
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
	�O���[�o���ϐ�
-----------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
 �֐���:	void InitResult( void )
 ����:		
 �߂�l:	
 ����:		������
-----------------------------------------------------------------------------*/
void InitResult( void )
{

	InitCamera();	//	�J�����̏�����

	InitMeshField();		//	���b�V���t�B�[���h�̏�����

	InitMeshWall();		//	���b�V���E�H�[���̏�����

	InitSkydome();		//	�X�J�C�h�[���̏�����

	InitBorn();		//	�����l�̏�����

	InitPlayer();		//	�v���C���[�̏�����

	InitResultBg();		//	���U���g�̏�����

	//	���y�Đ�
	PlaySound( SOUND_LABEL_BGM_RESULT );

}	//	end of func

/*-----------------------------------------------------------------------------
 �֐���:	void UninitResult( void )
 ����:		
 �߂�l:	
 ����:		�I��
-----------------------------------------------------------------------------*/
void UninitResult( void )
{

	UninitMeshField();		//	���b�V���t�B�[���h�̏I��

	UninitMeshWall();	//	���b�V���E�H�[���̏I��

	UninitSkydome();		//	�X�J�C�h�[���̏I��

	UninitPlayer();	//	�v���C���[�̏I��

	UninitBorn();	//	�����l�̏I��

	UninitResultBg();	//	���U���g�̏I��

}	//	end of func

/*-----------------------------------------------------------------------------
 �֐���:	void UpdateResult( void )
 ����:		
 �߂�l:	
 ����:		�X�V
-----------------------------------------------------------------------------*/
void UpdateResult( void )
{

	UpdateMeshField();		//	���b�V���t�B�[���h�̍X�V

	UpdateMeshWall();	//	���b�V���E�H�[���̍X�V

	UpdateSkydome();		//	�X�J�C�h�[���̍X�V

	UpdatePlayer();	//	�v���C���[�̍X�V

	UpdateBorn();	//	�����l�̍X�V

	UpdateResultBg();	//	���U���g�̍X�V

	//	��ʑJ��
	if( GetKeyboardTrigger( DIK_SPACE ) )
	{

		//	�t�F�[�h�̃Z�b�g
		SetFade( FADE_OUT , MODE_TITLE );

		//	���y�Đ�
		PlaySound( SOUND_LABEL_SE_ENTER );

		//	���Ԗڂ̉����~�߂�
		StopSound( SOUND_LABEL_BGM_RESULT );

	}	//	end of if

}	//	end of func

/*-----------------------------------------------------------------------------
 �֐���:	void DrawResult( void )
 ����:		
 �߂�l:	
 ����:		�`��
-----------------------------------------------------------------------------*/
void DrawResult( void )
{

	DrawMeshField();		//	���b�V���t�B�[���h�̕`��

//	DrawSkydome();		//	�X�J�C�h�[���̕`��

	DrawMeshWall();		//	���b�V���E�H�[���̕`��

	DrawPlayer();		//	�v���C���[�̕`��

	DrawBorn();		//	�����l�̕`��

	DrawResultBg();		//	���U���g�̕`��

}	//	end of func